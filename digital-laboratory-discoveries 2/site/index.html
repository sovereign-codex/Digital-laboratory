<!doctype html>
<html>
<head>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <title>Digital Laboratory Discoveries</title>
  <link rel='stylesheet' href='scroll.css'>
</head>
<body>
  <header>
    <h1>Digital Laboratory Discoveries</h1>
    <p class='sub'>Daily Laboratory Scrolls · Sovereign Intelligence</p>
  </header>
  <main>
    <section>
      <h2>Latest</h2>
      <div id='latest'>Loading…</div>
    </section>
    <section>
      <h2>Archive</h2>
      <div id='archive'></div>
    </section>
  </main>
  <footer>© Sovereign Intelligence — Manifest is hash-ready.</footer>

  <script>
    async function load() {
      const r = await fetch('../data/manifest.json', {cache:'no-store'});
      const m = await r.json();
      const latestDiv = document.getElementById('latest');
      const arc = document.getElementById('archive');
      const entries = m.entries || [];
      if (!entries.length) { latestDiv.textContent = 'No entries yet.'; return; }
      const [latest, ...rest] = entries;
      latestDiv.innerHTML = `<div class="entry"><div><div class="date">${latest.date}</div><div class="title">${latest.title}</div></div><div><a href="../${latest.file}" target="_blank">Download PDF</a></div></div>`;
      for (const e of entries) {
        const el = document.createElement('div');
        el.className = 'entry';
        el.innerHTML = `<div><div class="date">${e.date}</div><div class="title">${e.title}</div>${e.checksum?`<div class="checksum">sha256: ${e.checksum}</div>`:''}</div><div><a href="../${e.file}" target="_blank">PDF</a></div>`;
        arc.appendChild(el);
      }
    }
    load();
  </script>
</body>
</html>
